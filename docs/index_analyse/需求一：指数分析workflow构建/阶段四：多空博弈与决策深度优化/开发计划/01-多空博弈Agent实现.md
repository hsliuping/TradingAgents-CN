# 01-多空博弈Agent实现计划

## 1. 指数多头研究员 (Index Bull Researcher)

### 1.1 设计思路
多头研究员不仅仅是乐观主义者，它必须是一个**基于数据的乐观主义者**。它需要从上游报告中“挑食”，特别是寻找对**目标指数**（如半导体指数、沪深300等）有利的因素：
- 从宏观报告中找“复苏苗头”或“行业顺周期信号”。
- 从政策报告中找“托底意愿”或“产业扶持政策”。
- 从技术报告中找“支撑有效”或“右侧买点”。

### 1.2 Prompt 结构
```python
prompt = """
角色：指数多头策略师
目标：论证【增加 {index_name} 仓位】的合理性

输入数据：
1. 宏观报告：{macro}
2. 政策报告：{policy}
...

任务：
1. 综合各方利好，构建看涨逻辑链。
2. 针对空方观点（如有）进行反驳。
3. 输出结论：强烈建议加仓/持有，理由是...
"""
```

## 2. 指数空头研究员 (Index Bear Researcher)

### 2.1 设计思路
空头研究员是**风险吹哨人**。它需要泼冷水，特别是寻找**目标指数**的潜在风险：
- 宏观数据好？但该指数所属行业是否处于下行周期？
- 政策利好？是否已经Price-in？
- 技术突破？上方套牢盘压力如何？

### 2.2 Prompt 结构
```python
prompt = """
角色：指数空头策略师
目标：论证【降低 {index_name} 仓位/现金为王】的合理性

输入数据：
...

任务：
1. 挖掘潜在风险（灰犀牛/黑天鹅）。
2. 批判多方的盲目乐观。
3. 输出结论：建议减仓/观望，理由是...
"""
```

## 3. 代码实现规范
- 必须使用 `tradingagents.utils.logging_init` 进行日志记录。
- 必须处理 `AgentState` 中的 `investment_debate_state`，正确更新 `history` 和 `count`。
- 必须兼容上游报告为空（Missing Data）的情况。
