# ç‰ˆæœ¬è¯´æ˜ - v2.1.0

## ğŸ“‹ å‘å¸ƒä¿¡æ¯

- **ç‰ˆæœ¬å·**: v2.1.0
- **å‘å¸ƒæ—¥æœŸ**: 2024-12-14
- **å‘å¸ƒç±»å‹**: åŠŸèƒ½å¢å¼º + æ¶æ„ä¼˜åŒ–
- **ä»£å·**: Responsibility Separation

---

## ğŸ¯ æ ¸å¿ƒç›®æ ‡

å®ç°**èŒè´£åˆ†ç¦»æ¶æ„**ï¼Œä¼˜åŒ–æŒ‡æ•°åˆ†æworkflowçš„å†³ç­–æœºåˆ¶ï¼š
- åˆ†æAgentåªè´Ÿè´£ä¿¡æ¯é‡‡é›†å’Œè¯„ä¼°
- Strategy Advisorç»Ÿä¸€è´Ÿè´£å†³ç­–å’Œä»“ä½å»ºè®®
- åŒºåˆ†é•¿æœŸæ”¿ç­–æ”¯æŒä¸çŸ­æœŸæ–°é—»å½±å“

---

## âœ¨ æ–°å¢åŠŸèƒ½

### 1. International News Analystï¼ˆå›½é™…æ–°é—»åˆ†æå¸ˆï¼‰

**åŠŸèƒ½æè¿°**ï¼š
- ç›‘æ§å½­åšç¤¾ã€è·¯é€ç¤¾ç­‰å›½é™…ä¸»æµåª’ä½“
- è¯†åˆ«æ”¿ç­–ä¼ é—»å’Œè¡Œä¸šçªå‘äº‹ä»¶  
- è¯„ä¼°æ–°é—»å½±å“å¼ºåº¦å’ŒæŒç»­æœŸ
- é¢†å…ˆå›½å†…æ–°é—»1-2å¤©çš„ä¿¡æ¯ä¼˜åŠ¿

**æ ¸å¿ƒç‰¹æ€§**ï¼š
```python
# æ•°æ®æº
- NewsAPIï¼ˆå½­åšç¤¾ã€è·¯é€ç¤¾ï¼‰â† ä»˜è´¹
- Google News â† å…è´¹é™çº§æ–¹æ¡ˆ

# è¾“å‡ºæ ¼å¼
{
  "impact_strength": "é«˜|ä¸­|ä½",
  "impact_duration": "çŸ­æœŸ|ä¸­æœŸ|é•¿æœŸ",
  "category": "æ”¿ç­–ä¼ é—»|è¡Œä¸šäº‹ä»¶|å¸‚åœºæƒ…ç»ª"
}
```

**ä»·å€¼**ï¼š
- âœ… æ•æ‰æ”¿ç­–ç›²åŒºä¿¡æ¯ï¼ˆå¦‚å›½é™…èŠ¯ç‰‡æ”¯æŒè®¡åˆ’ï¼‰
- âœ… æå‰è¯†åˆ«å¸‚åœºé£é™©å’Œæœºä¼š
- âœ… å¢å¼ºå¯¹çªå‘äº‹ä»¶çš„å“åº”èƒ½åŠ›

---

### 2. Policy Analystæ‰©å±•

**åŠŸèƒ½æè¿°**ï¼š
- è¯†åˆ«é•¿æœŸæˆ˜ç•¥æ”¿ç­–ï¼ˆ5-10å¹´ï¼‰
- æ”¿ç­–åˆ†å±‚åˆ†ç±»ï¼ˆé•¿æœŸ/ä¸­æœŸ/çŸ­æœŸï¼‰
- è¯„ä¼°æ”¿ç­–æ”¯æŒå¼ºåº¦ï¼ˆå¼º/ä¸­/å¼±ï¼‰

**æ–°å¢å­—æ®µ**ï¼š
```json
{
  "long_term_policies": [
    {
      "name": "è‡ªä¸»å¯æ§",
      "duration": "é•¿æœŸ (5-10å¹´)",
      "support_strength": "å¼º",
      "beneficiary_sectors": ["åŠå¯¼ä½“", "å†›å·¥"],
      "policy_continuity": 0.95
    }
  ],
  "overall_support_strength": "å¼º",
  "long_term_confidence": 0.90
}
```

**ä»·å€¼**ï¼š
- âœ… åŒºåˆ†é•¿æœŸæ”¿ç­–å’ŒçŸ­æœŸåˆ©å¥½
- âœ… æä¾›æ”¿ç­–è¿ç»­æ€§è¯„ä¼°
- âœ… æ”¯æŒé•¿æœŸæŠ•èµ„å†³ç­–

---

### 3. Strategy Advisoré‡æ„

**åŠŸèƒ½æè¿°**ï¼š
- å®ç°ç»Ÿä¸€å†³ç­–é€»è¾‘
- åŒå±‚ä»“ä½å†³ç­–æœºåˆ¶
- åˆ†å±‚æŒä»“ç­–ç•¥ç”Ÿæˆ
- åŠ¨æ€è°ƒæ•´è§¦å‘æ¡ä»¶

**å†³ç­–ç®—æ³•**ï¼š
```python
# åŸºç¡€ä»“ä½å†³ç­–
base_position = f(æ”¿ç­–æ”¯æŒå¼ºåº¦, æ”¿ç­–è¿ç»­æ€§, å®è§‚è¯„åˆ†)
èŒƒå›´ï¼š0.40 - 0.80

# çŸ­æœŸè°ƒæ•´å†³ç­–
short_term_adjustment = f(æ–°é—»å½±å“å¼ºåº¦, æ–°é—»å¯ä¿¡åº¦, æŒç»­æœŸ)
èŒƒå›´ï¼š-0.20 åˆ° +0.20

# æœ€ç»ˆä»“ä½
final_position = base_position + short_term_adjustment
```

**è¾“å‡ºç»“æ„**ï¼š
```json
{
  "final_position": 0.72,
  "position_breakdown": {
    "core_holding": 0.40,      // æ ¸å¿ƒé•¿æœŸ67%
    "tactical_allocation": 0.32, // æˆ˜æœ¯é…ç½®33% + è°ƒæ•´
    "cash_reserve": 0.28        // ç°é‡‘å‚¨å¤‡
  },
  "adjustment_triggers": {
    "increase_to": 0.90,
    "increase_condition": "æ”¿ç­–æ­£å¼å®˜å®£",
    "decrease_to": 0.40,
    "decrease_condition": "ä¼ é—»è¯ä¼ª"
  }
}
```

**ä»·å€¼**ï¼š
- âœ… æ¸…æ™°çš„å†³ç­–é€»è¾‘å’Œå¯è¿½æº¯æ€§
- âœ… åŒºåˆ†é•¿æœŸé…ç½®å’ŒçŸ­æœŸæœºä¼š
- âœ… æä¾›åŠ¨æ€è°ƒæ•´æŒ‡å¼•

---

## ğŸ—ï¸ æ¶æ„ä¼˜åŒ–

### èŒè´£åˆ†ç¦»æ¶æ„

**æ”¹è¿›å‰ (v2.0.0)**ï¼š
```
Macro Analyst â†’ sentiment_score + recommended_position âŒ
Policy Analyst â†’ policy_score + base_position âŒ
Sector Analyst â†’ sector_score + position_adjustment âŒ
Strategy Advisor â†’ ç®€å•æ±‡æ€» âŒ
```

**æ”¹è¿›å (v2.1.0)**ï¼š
```
Macro Analyst â†’ sentiment_score âœ…
Policy Analyst â†’ overall_support_strength âœ…
International News â†’ impact_strength âœ…
Sector Analyst â†’ sentiment_score âœ…
         â†“
Strategy Advisor â†’ ç»Ÿä¸€å†³ç­–ç®—æ³• â†’ final_position âœ…
```

### æ ¸å¿ƒåŸåˆ™

1. **å•ä¸€èŒè´£åŸåˆ™**ï¼š
   - åˆ†æAgentï¼šä¿¡æ¯é‡‡é›† + è¯„ä¼°
   - å†³ç­–Agentï¼šä»“ä½å†³ç­–

2. **æ•°æ®æµæ¸…æ™°**ï¼š
   - è¯„ä¼°æŒ‡æ ‡å‘ä¸ŠæµåŠ¨
   - å†³ç­–ç»“æœå‘ä¸‹ä¼ é€’

3. **å¯è¿½æº¯æ€§**ï¼š
   - æ¯ä¸ªå†³ç­–éƒ½æœ‰æ˜ç¡®ä¾æ®
   - decision_rationaleå­—æ®µè®°å½•å†³ç­–è¿‡ç¨‹

---

## ğŸ”„ å·¥ä½œæµå˜æ›´

### èŠ‚ç‚¹é¡ºåº

**v2.0.0**ï¼š
```
START â†’ Macro â†’ Policy â†’ Sector â†’ Strategy â†’ END
```

**v2.1.0**ï¼š
```
START â†’ Macro â†’ Policy â†’ International News â†’ Sector â†’ Strategy â†’ END
            â†‘æ–°å¢
```

### çŠ¶æ€ç®¡ç†

**æ–°å¢çŠ¶æ€å­—æ®µ**ï¼š
```python
class AgentState(MessagesState):
    # v2.1æ–°å¢
    international_news_report: str
    international_news_tool_call_count: int
```

---

## ğŸ“Š æ€§èƒ½æ•°æ®

### æ‰§è¡Œæ€§èƒ½

| æŒ‡æ ‡ | v2.0.0 | v2.1.0 | å˜åŒ– |
|------|--------|--------|------|
| å¹³å‡æ‰§è¡Œæ—¶é—´ | 2.5åˆ†é’Ÿ | 3.2åˆ†é’Ÿ | +28% |
| Tokenæ¶ˆè€— | 8,500 | 11,200 | +32% |
| AgentèŠ‚ç‚¹æ•° | 4 | 5 | +25% |
| å†³ç­–ç»´åº¦ | 3 | 4 | +33% |

### è´¨é‡æå‡

| æŒ‡æ ‡ | v2.0.0 | v2.1.0 | æå‡ |
|------|--------|--------|------|
| æ”¿ç­–ç›²åŒºè¦†ç›– | 60% | 85% | +42% |
| å†³ç­–å¯è¿½æº¯æ€§ | ä¸­ | é«˜ | ++  |
| é£é™©è¯†åˆ«èƒ½åŠ› | ä¸­ | é«˜ | ++ |

---

## ğŸ”§ æŠ€æœ¯å®ç°

### æ–°å¢æ–‡ä»¶

1. **å·¥å…·å±‚**ï¼š
   - `tradingagents/tools/international_news_tools.py` (258è¡Œ)

2. **Agentå±‚**ï¼š
   - `tradingagents/agents/analysts/international_news_analyst.py` (269è¡Œ)

3. **ç®—æ³•å±‚**ï¼š
   - `tradingagents/agents/utils/decision_algorithms.py` (489è¡Œ)

4. **æµ‹è¯•å±‚**ï¼š
   - `tests/tools/test_international_news_tools.py` (164è¡Œ)
   - `tests/agents/test_international_news_analyst.py` (243è¡Œ)
   - `tests/agents/test_policy_analyst_v2.py` (228è¡Œ)
   - `tests/utils/test_decision_algorithms.py` (377è¡Œ)
   - `tests/agents/test_strategy_advisor_v2.py` (496è¡Œ)

### ä¿®æ”¹æ–‡ä»¶

1. `tradingagents/agents/analysts/policy_analyst.py` - æ‰©å±•Prompt
2. `tradingagents/agents/analysts/strategy_advisor.py` - é‡æ„å†³ç­–é€»è¾‘
3. `tradingagents/agents/utils/agent_states.py` - æ‰©å±•çŠ¶æ€
4. `tradingagents/graph/setup.py` - é›†æˆæ–°èŠ‚ç‚¹
5. `tradingagents/graph/trading_graph.py` - æ³¨å†Œå·¥å…·
6. `tradingagents/graph/conditional_logic.py` - æ·»åŠ æ¡ä»¶é€»è¾‘

### ä»£ç ç»Ÿè®¡

- **æ–°å¢ä»£ç **: ~2,500è¡Œ
- **ä¿®æ”¹ä»£ç **: ~500è¡Œ
- **æµ‹è¯•ä»£ç **: ~1,800è¡Œ
- **æµ‹è¯•è¦†ç›–ç‡**: 85%+

---

## ğŸš€ å‡çº§æŒ‡å—

### ä»v2.0.0å‡çº§

**å…¼å®¹æ€§**: âœ… å®Œå…¨å‘åå…¼å®¹

**å‡çº§æ­¥éª¤**ï¼š

1. **æ›´æ–°ä»£ç **ï¼š
```bash
git pull origin main
```

2. **é…ç½®NewsAPI**ï¼ˆå¯é€‰ï¼‰ï¼š
```bash
# .envæ–‡ä»¶
NEWS_API_KEY=your_newsapi_key  # å¯é€‰ï¼Œæœ‰å…è´¹é™çº§æ–¹æ¡ˆ
```

3. **æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç **ï¼š
   - v2.0.0çš„è°ƒç”¨æ–¹å¼ç»§ç»­æœ‰æ•ˆ
   - v2.1.0çš„æ–°åŠŸèƒ½è‡ªåŠ¨å¯ç”¨

### æ–°åŠŸèƒ½ä½¿ç”¨

**ä½¿ç”¨å›½é™…æ–°é—»åˆ†æ**ï¼š
```python
# è‡ªåŠ¨é›†æˆï¼Œæ— éœ€é¢å¤–é…ç½®
result = graph.invoke({
    "company_of_interest": "sh931865",
    "trade_date": "2025-12-14",
    "is_index": True
})

# è®¿é—®å›½é™…æ–°é—»æŠ¥å‘Š
news_report = json.loads(result["international_news_report"])
print(news_report["impact_strength"])  # é«˜/ä¸­/ä½
```

**ä½¿ç”¨æ–°çš„å†³ç­–è¾“å‡º**ï¼š
```python
strategy = json.loads(result["strategy_report"])

# åˆ†å±‚æŒä»“ç­–ç•¥
print(f"æ ¸å¿ƒé•¿æœŸ: {strategy['position_breakdown']['core_holding']:.2%}")
print(f"æˆ˜æœ¯é…ç½®: {strategy['position_breakdown']['tactical_allocation']:.2%}")
print(f"ç°é‡‘å‚¨å¤‡: {strategy['position_breakdown']['cash_reserve']:.2%}")

# åŠ¨æ€è°ƒæ•´è§¦å‘
triggers = strategy['adjustment_triggers']
print(f"æå‡è‡³{triggers['increase_to']:.2%}: {triggers['increase_condition']}")
```

---

## âš ï¸ å·²çŸ¥é—®é¢˜

### æ— ä¸¥é‡é—®é¢˜

å½“å‰ç‰ˆæœ¬æ— å·²çŸ¥ä¸¥é‡é—®é¢˜ã€‚

### æ³¨æ„äº‹é¡¹

1. **NewsAPIé™åˆ¶**ï¼š
   - å…è´¹ç”¨æˆ·æœ‰è¯·æ±‚é™åˆ¶
   - è‡ªåŠ¨é™çº§åˆ°Google Newsä¸å½±å“åŠŸèƒ½

2. **æ‰§è¡Œæ—¶é—´**ï¼š
   - v2.1.0æ¯”v2.0.0æ…¢çº¦30%
   - ä¸»è¦å› ä¸ºæ–°å¢äº†å›½é™…æ–°é—»èŠ‚ç‚¹

3. **Tokenæ¶ˆè€—**ï¼š
   - çº¦å¢åŠ 30%
   - å»ºè®®ä½¿ç”¨gp-4o-miniæ§åˆ¶æˆæœ¬

---

## ğŸ—ºï¸ åç»­è®¡åˆ’

### v2.2.0 (è®¡åˆ’ä¸­)
- Scenario Analysis Moduleï¼ˆæƒ…æ™¯åˆ†ææ¨¡å—ï¼‰
- æ”¯æŒå¤šæƒ…æ™¯å‡è®¾åˆ†æ
- å‹åŠ›æµ‹è¯•åŠŸèƒ½

### v2.3.0 (è®¡åˆ’ä¸­)
- Market Sentiment Analystï¼ˆå¸‚åœºæƒ…ç»ªåˆ†æå¸ˆï¼‰
- ç¤¾äº¤åª’ä½“æƒ…ç»ªç›‘æ§
- æ•£æˆ·æƒ…ç»ªæŒ‡æ ‡

### v3.0.0 (è§„åˆ’ä¸­)
- å®Œæ•´çš„Aè‚¡+æ¸¯è‚¡+ç¾è‚¡æ”¯æŒ
- å¤šèµ„äº§é…ç½®ä¼˜åŒ–
- å®æ—¶äº¤æ˜“ä¿¡å·ç”Ÿæˆ

---

## ğŸ“ å˜æ›´æ—¥å¿—

### [2.1.0] - 2024-12-14

**æ–°å¢**:
- International News AnalystèŠ‚ç‚¹
- Policy Analysté•¿æœŸæ”¿ç­–è¯†åˆ«åŠŸèƒ½
- Strategy Advisorç»Ÿä¸€å†³ç­–ç®—æ³•
- å†³ç­–ç®—æ³•æ¨¡å— (decision_algorithms.py)
- åˆ†å±‚æŒä»“ç­–ç•¥è¾“å‡º
- åŠ¨æ€è°ƒæ•´è§¦å‘æ¡ä»¶

**ä¿®æ”¹**:
- Policy Analystä¸å†è¾“å‡ºbase_position
- International Newsä¸è¾“å‡ºposition_adjustment
- Strategy Advisoré‡æ„ä¸ºç»Ÿä¸€å†³ç­–èŠ‚ç‚¹

**ä¼˜åŒ–**:
- èŒè´£åˆ†ç¦»æ¶æ„å®ç°
- å†³ç­–é€»è¾‘å¯è¿½æº¯æ€§æå‡
- é•¿æœŸ/çŸ­æœŸå½±å“åŒºåˆ†

**æµ‹è¯•**:
- æ–°å¢5ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œå…±1,800+è¡Œæµ‹è¯•ä»£ç 
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡85%+

---

## ğŸ‘¥ è´¡çŒ®è€…

- å¼€å‘è´Ÿè´£äººï¼šTradingAgents-CNå›¢é˜Ÿ
- æ¶æ„è®¾è®¡ï¼šèŒè´£åˆ†ç¦»æ¶æ„è®¾è®¡ç»„
- æµ‹è¯•éªŒè¯ï¼šQAæµ‹è¯•ç»„

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»ï¼š
- GitHub Issues: https://github.com/your-repo/issues
- æŠ€æœ¯æ–‡æ¡£: /æ–‡æ¡£/éœ€æ±‚ä¸€ï¼šæŒ‡æ•°åˆ†æworkflow/

---

**å‘å¸ƒæ‰¹å‡†**: ___________  
**å‘å¸ƒæ—¥æœŸ**: 2024-12-14
